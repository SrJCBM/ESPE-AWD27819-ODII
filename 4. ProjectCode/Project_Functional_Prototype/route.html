<!doctype html>
<html lang="es">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Rutas - Prototipo</title>
	<link rel="stylesheet" href="./public/css/style.css">
	<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.css" >
	<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.1/mapbox-gl-geocoder.css">
	<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v5.0.1/mapbox-gl-geocoder.min.js"></script>
	<script src="https://api.mapbox.com/mapbox-gl-js/v3.15.0/mapbox-gl.js"></script>

</head>
<body>
	<header class="site-header">
		<h1>Rutas y tiempos</h1>
		<nav>
			<a href="./index.html">Inicio</a>
			<a href="./destinations.html">Destinos</a>
			<a href="./trips.html">Viajes</a>
			<a href="./route.html">Rutas</a>
			<a href="./weather.html">Clima</a>
			<a href="./budget.html">Presupuesto</a>
			<a href="./itinerary.html">Itinerario</a>
		</nav>
	</header>

	<main class="container">
		<div class="row">
			<div class="col-md-6">
				<div class="card">
					<h3>Mapa Ruta</h3>
						<div id="map" style="height: 420px; width: 100%;"></div>
				</div>
			</div>
			<div class="col-md-6">
				<section class="card">
					<h2>Calcular distancia</h2>
					<label>Origen
						<select id="originSelect"></select>
					</label>
					<label>Destino
						<select id="destSelect"></select>
					</label>
					<button id="calcRouteBtn">Calcular</button>
					<div id="routeResult" class="result"></div>
					<p class="muted">Si lat/lng no est치n definidos, se usar치 distancia aproximada.</p>
				</section>
			</div>
		</div>
	</main>

	<footer class="site-footer"><small>Simulaci칩n sin API externa</small></footer>
	<script src="./public/js/main.js"></script>

	<script>
		document.addEventListener('DOMContentLoaded', () => {
			window.app.populateDestinationSelect('originSelect', true);
			window.app.populateDestinationSelect('destSelect', true);
			document.getElementById('calcRouteBtn').addEventListener('click', () => {
				const o = document.getElementById('originSelect').value;
				const d = document.getElementById('destSelect').value;
				const res = window.app.calculateRoute(o, d);
				document.getElementById('routeResult').innerText = res;
			});
		});
	</script>

  <script>
		// Token
		localStorage.setItem('mb_token', 'pk.eyJ1Ijoic3JqY2JtIiwiYSI6ImNtZ3g0eGV5NDAwZzYya3BvdmFveWU2dnEifQ.yYCrLmlo9lW-AJf56akVCw');
		mapboxgl.accessToken = localStorage.getItem('mb_token');

		// Mapa b치sico
		new mapboxgl.Map({
		container: 'map',
		style: 'mapbox://styles/mapbox/streets-v12',
		center: [-76, 0],
		zoom: 4.3
		});
	</script>


  <style>
    .container { max-width: 1100px; margin: 0 auto; padding: 1rem; }
    .row { display: flex; flex-wrap: wrap; gap: 1rem; }
    .col-md-6 { flex: 1 1 100%; }

    @media (min-width: 768px) {
      .col-md-6 { flex: 0 0 calc(50% - 0.5rem); }
    }

    .card { background: #fff; border: 1px solid #ddd; border-radius: 8px; padding: 1rem; }
  </style>

  
</body>
</html>
